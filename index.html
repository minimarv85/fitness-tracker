<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Tracker</title>
    <style>
        :root {
            --primary: #00d4ff;
            --bg: #0a0a0f;
            --card: #12121a;
            --text: #fff;
            --text-muted: #888;
            --success: #00ff88;
            --danger: #ff4757;
        }
        
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { max-width: 600px; margin: 0 auto; }
        
        h1 { font-size: 1.5rem; margin-bottom: 20px; color: var(--primary); }
        h2 { font-size: 1.1rem; margin: 20px 0 10px; }
        
        .card {
            background: var(--card);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
        }
        
        .stat {
            text-align: center;
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        
        .stat-value { font-size: 1.5rem; font-weight: bold; color: var(--primary); }
        .stat-label { font-size: 0.8rem; color: var(--text-muted); }
        
        .input-group {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        input, select {
            flex: 1;
            padding: 10px;
            border: 1px solid #333;
            border-radius: 8px;
            background: #1a1a24;
            color: white;
            font-size: 14px;
        }
        
        button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        
        .btn-primary { background: var(--primary); color: #000; }
        .btn-primary:hover { opacity: 0.9; }
        .btn-danger { background: var(--danger); color: white; }
        
        .history-list {
            max-height: 200px;
            overflow-y: auto;
        }
        
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            border-bottom: 1px solid #222;
            font-size: 0.9rem;
        }
        
        .trend-up { color: var(--danger); }
        .trend-down { color: var(--success); }
        
        .chart {
            height: 150px;
            display: flex;
            align-items: flex-end;
            gap: 4px;
            padding: 10px 0;
        }
        
        .chart-bar {
            flex: 1;
            background: var(--primary);
            border-radius: 4px 4px 0 0;
            min-height: 4px;
            transition: height 0.3s;
        }
        
        .tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            background: var(--card);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .tab.active {
            background: var(--primary);
            color: #000;
        }
        
        .hidden { display: none; }
        
        .streak {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            background: rgba(0,255,136,0.1);
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .streak-icon { font-size: 1.5rem; }
        .streak-count { font-size: 1.2rem; font-weight: bold; color: var(--success); }
    </style>
</head>
<body>
    <div class="container">
        <h1>üí™ Fitness Tracker</h1>
        
        <!-- Stats Overview -->
        <div class="card">
            <div class="stats-grid">
                <div class="stat">
                    <div class="stat-value" id="currentWeight">--</div>
                    <div class="stat-label">Weight (kg)</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="bodyFat">--%</div>
                    <div class="stat-label">Body Fat</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="tdee">--</div>
                    <div class="stat-label">Daily Calories</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="workoutStreak">0</div>
                    <div class="stat-label">Workout Streak</div>
                </div>
            </div>
        </div>
        
        <!-- Streak Banner -->
        <div class="streak" id="streakBanner">
            <span class="streak-icon">üî•</span>
            <span class="streak-count" id="streakCount">0</span>
            <span>day streak! Keep it up!</span>
        </div>
        
        <!-- Tabs -->
        <div class="tabs">
            <div class="tab active" onclick="showTab('weight')">‚öñÔ∏è Weight</div>
            <div class="tab" onclick="showTab('workout')">üèãÔ∏è Workout</div>
            <div class="tab" onclick="showTab('progress')">üìà Progress</div>
        </div>
        
        <!-- Weight Tab -->
        <div id="weightTab">
            <div class="card">
                <h2>Log Weight</h2>
                <div class="input-group">
                    <input type="number" id="weightInput" placeholder="Weight (kg)" step="0.1">
                    <button class="btn-primary" onclick="logWeight()">Log</button>
                </div>
            </div>
            
            <div class="card">
                <h2>Body Measurements</h2>
                <div class="input-group">
                    <input type="number" id="waistInput" placeholder="Waist (cm)">
                    <input type="number" id="chestInput" placeholder="Chest (cm)">
                </div>
                <div class="input-group">
                    <input type="number" id="armsInput" placeholder="Arms (cm)">
                    <input type="number" id="legsInput" placeholder="Legs (cm)">
                </div>
                <button class="btn-primary" onclick="logMeasurements()" style="width:100%">Log Measurements</button>
            </div>
            
            <div class="card">
                <h2>Weight History</h2>
                <div class="chart" id="weightChart"></div>
                <div class="history-list" id="weightHistory"></div>
            </div>
        </div>
        
        <!-- Workout Tab -->
        <div id="workoutTab" class="hidden">
            <div class="card">
                <h2>Log Workout</h2>
                <div class="input-group">
                    <input type="date" id="workoutDate">
                    <select id="workoutType">
                        <option value="Calisthenics">Calisthenics</option>
                        <option value="Push">Push</option>
                        <option value="Pull">Pull</option>
                        <option value="Legs">Legs</option>
                        <option value="Core">Core</option>
                        <option value="Full Body">Full Body</option>
                    </select>
                </div>
                <div class="input-group">
                    <input type="number" id="workoutDuration" placeholder="Duration (mins)">
                    <input type="text" id="workoutNotes" placeholder="Notes (exercises)">
                </div>
                <button class="btn-primary" onclick="logWorkout()" style="width:100%">Log Workout</button>
            </div>
            
            <div class="card">
                <h2>Recent Workouts</h2>
                <div class="history-list" id="workoutHistory"></div>
            </div>
        </div>
        
        <!-- Progress Tab -->
        <div id="progressTab" class="hidden">
            <div class="card">
                <h2>Weight Trend</h2>
                <div class="chart" id="progressChart"></div>
                <p style="color:var(--text-muted);font-size:0.8rem;margin-top:10px" id="progressSummary"></p>
            </div>
            
            <div class="card">
                <h2>Measurements Trend</h2>
                <div class="history-list" id="measurementsHistory"></div>
            </div>
        </div>
        
        <!-- Goals -->
        <div class="card" style="margin-top:20px">
            <h2>üéØ Goals</h2>
            <div class="input-group">
                <input type="number" id="goalWeight" placeholder="Target weight (kg)" value="76">
                <button class="btn-primary" onclick="setGoal()">Set</button>
            </div>
            <p style="color:var(--text-muted);font-size:0.9rem" id="goalProgress"></p>
        </div>
    </div>
    
    <script>
        // Data storage
        const STORAGE_KEY = 'fitness_tracker_data';
        
        let data = {
            weights: [],
            measurements: [],
            workouts: [],
            goalWeight: 76,
            startDate: new Date().toISOString().split('T')[0]
        };
        
        // Load data
        function loadData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                data = JSON.parse(saved);
            }
            updateStats();
            updateHistory();
        }
        
        // Save data
        function saveData() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
            updateStats();
            updateHistory();
        }
        
        // Log weight
        function logWeight() {
            const weight = parseFloat(document.getElementById('weightInput').value);
            if (!weight) return;
            
            data.weights.unshift({
                weight: weight,
                date: new Date().toISOString().split('T')[0]
            });
            
            document.getElementById('weightInput').value = '';
            saveData();
        }
        
        // Log measurements
        function logMeasurements() {
            const waist = document.getElementById('waistInput').value;
            const chest = document.getElementById('chestInput').value;
            const arms = document.getElementById('armsInput').value;
            const legs = document.getElementById('legsInput').value;
            
            if (!waist && !chest && !arms && !legs) return;
            
            data.measurements.unshift({
                date: new Date().toISOString().split('T')[0],
                waist: waist || null,
                chest: chest || null,
                arms: arms || null,
                legs: legs || null
            });
            
            document.getElementById('waistInput').value = '';
            document.getElementById('chestInput').value = '';
            document.getElementById('armsInput').value = '';
            document.getElementById('legsInput').value = '';
            saveData();
        }
        
        // Log workout
        function logWorkout() {
            const date = document.getElementById('workoutDate').value || new Date().toISOString().split('T')[0];
            const type = document.getElementById('workoutType').value;
            const duration = document.getElementById('workoutDuration').value;
            const notes = document.getElementById('workoutNotes').value;
            
            if (!duration) return;
            
            data.workouts.unshift({
                date: date,
                type: type,
                duration: parseInt(duration),
                notes: notes
            });
            
            document.getElementById('workoutDuration').value = '';
            document.getElementById('workoutNotes').value = '';
            saveData();
        }
        
        // Set goal
        function setGoal() {
            const goal = parseFloat(document.getElementById('goalWeight').value);
            if (goal) {
                data.goalWeight = goal;
                saveData();
            }
        }
        
        // Update stats
        function updateStats() {
            // Current weight
            const currentWeight = data.weights[0]?.weight;
            document.getElementById('currentWeight').textContent = currentWeight ? currentWeight + ' kg' : '--';
            
            //N Body fat estimate (avy method - simplified)
            if (currentWeight && data.measurements[0]?.waist) {
                // Very rough estimate
                const waist = parseFloat(data.measurements[0].waist);
                const bodyFat = Math.round((waist * 0.7) - (currentWeight * 0.2));
                document.getElementById('bodyFat').textContent = Math.max(bodyFat, 10) + '%';
            } else {
                document.getElementById('bodyFat').textContent = '--%';
            }
            
            // TDEE (rough estimate)
            if (currentWeight) {
                // BMR = 88.4 + 14.4 * weight + 4.8 * height - 5.7 * age (assume 41, 180cm)
                const bmr = 88.4 + 14.4 * currentWeight + 14.4 * 180 - 5.7 * 41;
                const tdee = Math.round(bmr * 1.375); // Moderate exercise
                document.getElementById('tdee').textContent = tdee;
            } else {
                document.getElementById('tdee').textContent = '--';
            }
            
            // Workout streak
            const streak = calculateStreak();
            document.getElementById('workoutStreak').textContent = streak;
            document.getElementById('streakCount').textContent = streak;
            
            // Goal progress
            if (currentWeight) {
                const diff = (currentWeight - data.goalWeight).toFixed(1);
                const direction = diff > 0 ? 'to go' : 'under!';
                document.getElementById('goalProgress').textContent = 
                    `${Math.abs(diff)} kg ${direction} goal of ${data.goalWeight} kg`;
            }
        }
        
        // Calculate streak
        function calculateStreak() {
            if (data.workouts.length === 0) return 0;
            
            let streak = 0;
            const today = new Date();
            today.setHours(0,0,0,0);
            
            const dates = [...new Set(data.workouts.map(w => w.date))].sort().reverse();
            
            for (let i = 0; i < dates.length; i++) {
                const checkDate = new Date(today);
                checkDate.setDate(checkDate.getDate() - i);
                const checkStr = checkDate.toISOString().split('T')[0];
                
                if (dates.includes(checkStr)) {
                    streak++;
                } else if (i > 0) {
                    break;
                }
            }
            return streak;
        }
        
        // Update history displays
        function updateHistory() {
            // Weight history
            const weightHistory = document.getElementById('weightHistory');
            weightHistory.innerHTML = data.weights.slice(0, 10).map((w, i) => {
                let trend = '';
                if (i < data.weights.length - 1) {
                    const diff = (w.weight - data.weights[i+1].weight).toFixed(1);
                    trend = diff > 0 ? `<span class="trend-up">+${diff}</span>` : 
                             diff < 0 ? `<span class="trend-down">${diff}</span>` : '';
                }
                return `<div class="history-item">
                    <span>${w.date}</span>
                    <span>${w.weight} kg ${trend}</span>
                </div>`;
            }).join('');
            
            // Weight chart
            const weightChart = document.getElementById('weightChart');
            const recentWeights = data.weights.slice(0, 14).reverse();
            if (recentWeights.length > 1) {
                const max = Math.max(...recentWeights.map(w => w.weight));
                const min = Math.min(...recentWeights.map(w => w.weight));
                const range = max - min || 1;
                
                weightChart.innerHTML = recentWeights.map(w => {
                    const height = ((w.weight - min) / range) * 100 + 10;
                    return `<div class="chart-bar" style="height:${height}px" title="${w.date}: ${w.weight}kg"></div>`;
                }).join('');
            }
            
            // Workout history
            const workoutHistory = document.getElementById('workoutHistory');
            workoutHistory.innerHTML = data.workouts.slice(0, 10).map(w => `
                <div class="history-item">
                    <span>${w.date} - ${w.type}</span>
                    <span>${w.duration} mins</span>
                </div>
            `).join('');
            
            // Measurements
            const measurementsHistory = document.getElementById('measurementsHistory');
            measurementsHistory.innerHTML = data.measurements.slice(0, 10).map(m => `
                <div class="history-item">
                    <span>${m.date}</span>
                    <span>${m.waist ? 'W:'+m.waist+' ' : ''}${m.chest ? 'C:'+m.chest+' ' : ''}${m.arms ? 'A:'+m.arms : ''}</span>
                </div>
            `).join('');
            
            // Progress summary
            const progressSummary = document.getElementById('progressSummary');
            if (data.weights.length >= 2) {
                const first = data.weights[data.weights.length - 1].weight;
                const last = data.weights[0].weight;
                const diff = (last - first).toFixed(1);
                progressSummary.textContent = diff < 0 ? `Lost ${Math.abs(diff)} kg so far!` : `+${diff} kg since starting`;
            } else {
                progressSummary.textContent = 'Log more weights to see progress';
            }
        }
        
        // Tab switching
        function showTab(tab) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('[id$="Tab"]').forEach(t => t.classList.add('hidden'));
            
            document.querySelector(`.tab:nth-child(${tab === 'weight' ? 1 : tab === 'workout' ? 2 : 3})`).classList.add('active');
            document.getElementById(tab + 'Tab').classList.remove('hidden');
        }
        
        // Initialize
        document.getElementById('workoutDate').value = new Date().toISOString().split('T')[0];
        document.getElementById('goalWeight').value = data.goalWeight;
        loadData();
    </script>
</body>
</html>
